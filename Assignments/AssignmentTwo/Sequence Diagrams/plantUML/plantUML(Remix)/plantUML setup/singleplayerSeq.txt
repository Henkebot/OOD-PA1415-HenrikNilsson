@startuml
hide footbox
title Start Singleplayer

participant ":MenuState" as menu
participant ":Application" as app
participant "g:GameState" as game
participant ":CaveHandler" as ch
participant ":TwitterAnalyser" as ta
participant ":Cave" as cave

[->menu : startSingeplayer() 
activate menu

menu -> app : changeState(game)
activate app
deactivate menu

app -> game : init()
activate game 

game->ch : inputTwitterFeed()
activate ch

ch -> ta : create(url)
activate ta
ta --> ch : return twitterData
deactivate ta
deactivate ch

game -> ch : generateCaves()
activate ch

deactivate ta
ch -> cave : generateCave(twitterData)
activate cave
deactivate game


app -> app : stack.push(g)


@enduml
